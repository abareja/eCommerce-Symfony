{% if products|length > 0 %}

{% if centerMode %}
    {% set settings = {
        slidesToShow: 3,
        slidesToScroll: 1,
        centerMode: true,
        centerPadding: '64px',
        infinite: true,
        dots: false,
        arrows: true,
        lazyLoad: 'ondemand',
        autoplay: false,
        fade: false,
        responsive: [
            {
                breakpoint: 1200,
                settings: {
                    slidesToShow: 2,
                    centerMode: false
                }
            },
            {
                breakpoint: 768,
                settings: {
                    slidesToShow: 1,
                    centerMode: false
                }
            },
        ]
    } %}
{% else %}
    {% set settings = {
        slidesToShow: 3,
        slidesToScroll: 1,
        infinite: true,
        dots: false,
        arrows: true,
        lazyLoad: 'ondemand',
        autoplay: false,
        fade: false,
        responsive: [
            {
                breakpoint: 1200,
                settings: {
                    slidesToShow: 2,
                }
            },
            {
                breakpoint: 768,
                settings: {
                    slidesToShow: 1,
                }
            },
        ]
    } %}
{% endif %}

<section class="c-product-slider o-content">
    <div class="o-wrapper {% if width is defined and width is not null %}o-wrapper--{{ width }}{% endif %}">
        {% if title %}
            <h2 class="o-title u-margin-bottom" data-aos="fade-up">{{ title }}</h2>
        {% endif %}

        <div class="c-product-slider__wrap js-slider" data-slick-settings="{{ settings|json_encode()|escape() }}">
            {% for product in products %}
                <div class="c-product-slider__entry" data-aos="fade-up">
                    {% include 'product/product-tile.html.twig' with {product} %}
                </div>
            {% endfor %}
        </div>
    </div>
</section>

{% endif %}